import{g as q,f as w,r as h,h as E,i as I,j as e,F as P,s as A,k as R,T as v,l as y,m as L,o as z,p as F,R as k,q as $,u as M,B as c,c as Q,P as T,O as B,e as f}from"./index-Cg8QlcrD.js";import{u as U}from"./Event-Cco6Astm.js";import{E as D}from"./EventsList-BxlZwWcw.js";function K(n){return w("MuiInputAdornment",n)}const S=q("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b;const N=(n,s)=>{const{ownerState:t}=n;return[s.root,s[`position${y(t.position)}`],t.disablePointerEvents===!0&&s.disablePointerEvents,s[t.variant]]},H=n=>{const{classes:s,disablePointerEvents:t,hiddenLabel:l,position:a,size:i,variant:o}=n,u={root:["root",t&&"disablePointerEvents",a&&`position${y(a)}`,o,l&&"hiddenLabel",i&&`size${y(i)}`]};return L(u,K,s)},O=A("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:N})(z(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${S.positionStart}&:not(.${S.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),_=h.forwardRef(function(s,t){const l=E({props:s,name:"MuiInputAdornment"}),{children:a,className:i,component:o="div",disablePointerEvents:u=!1,disableTypography:p=!1,position:r,variant:g,...j}=l,d=I()||{};let m=g;g&&d.variant,d&&!m&&(m=d.variant);const x={...l,hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:u,position:r,variant:m},C=H(x);return e.jsx(P.Provider,{value:null,children:e.jsx(O,{as:o,ownerState:x,className:R(C.root,i),ref:t,...j,children:typeof a=="string"&&!p?e.jsx(v,{color:"textSecondary",children:a}):e.jsxs(h.Fragment,{children:[r==="start"?b||(b=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,a]})})})}),G=F(e.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),J=function(){const{query:s}=k.useSearch(),[t,l]=h.useState(s??""),a=$(),i=M(),{data:o,isLoading:u}=U({queryKey:["query-events"],queryFn:async()=>t.length===0?await f("/event?limit=4").then(r=>r.data):await f(`/event?query=${t}`).then(r=>r.data)});async function p(r){if(r.preventDefault(),t){i.navigate({to:"/events",search:{query:t}}),await a.invalidateQueries({queryKey:["query-events"]});return}await a.invalidateQueries({queryKey:["query-events"]}),i.navigate({to:"/events"})}return u?null:e.jsx(c,{sx:{backgroundImage:"url('/home_waves2.svg')",backgroundSize:"70%",backgroundPositionX:"100%",backgroundRepeat:"no-repeat",backgroundColor:"#F2A90040"},children:e.jsx(Q,{sx:{minHeight:"100vh",display:"grid",placeItems:"center",py:"130px"},children:e.jsxs(c,{sx:{height:"100%",width:"100%"},children:[e.jsx(c,{children:e.jsx(T,{component:"form",onSubmit:p,elevation:18,children:e.jsx(B,{fullWidth:!0,placeholder:"Search",value:t,onChange:r=>l(r.target.value),startAdornment:e.jsx(_,{position:"start",children:e.jsx(G,{})})})})}),e.jsxs(c,{sx:{display:"flex",flexDirection:"column",rowGap:4,mt:4},children:[e.jsx(v,{variant:"h5",color:"primary.dark",children:"See what's happening now:"}),o&&o.length>0&&e.jsx(D,{events:o}),o&&o.length===0&&e.jsx(v,{children:"Your search returned no results."})]})]})})})};export{J as component};
